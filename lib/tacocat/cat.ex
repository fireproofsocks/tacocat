defmodule Tacocat.Cat do
  @moduledoc """
  This produces an animated "spinner" on the terminal using ANSI codes.

  """
  # @path "lib/tacocat/resources/cat/"
  # sleep betwen frames
  @frames_per_sec 12
  @sleep div(1000, @frames_per_sec)

  def start(_ \\ []) do
    frame(1)
  end

  defp frame(n) do
    IO.write(f(n))
    Process.sleep(@sleep)
    IO.write("\r#{IO.ANSI.cursor_up(4)}")

    case n do
      6 -> frame(1)
      _ -> frame(n + 1)
    end
  end

  defp f(1) do
    """
    ____━━____┓━╭━━━━╮
    ____━━____┗┓|:::::: ^━━^
    ____━━____━┗|:::::|｡◕‿‿◕｡
    ____━━____━━╰O-O----O-O
    """
  end

  defp f(2) do
    """
    ___━━____━┓_╭━━━━╮
    ___━━____━┗┓|:::::: ^━━^
    ___━━____━━┗|:::::|｡◕‿‿◕｡
    ___━━____━━_╰O-O----O-O
    """
  end

  defp f(3) do
    """
    __━━____━━┓_╭━━━━╮
    __━━____━━┗┓|:::::: ^━━^
    __━━____━━_┗|:::::|｡◕‿‿◕｡
    __━━____━━__╰O-O----O-O
    """
  end

  defp f(4) do
    """
    _━━____━━_┓_╭━━━━╮
    _━━____━━_┗┓|:::::: ^━━^
    _━━____━━__┗|:::::|｡◕‿‿◕｡
    _━━____━━___╰O-O----O-O
    """
  end

  defp f(5) do
    """
    ━━____━━__┓_╭━━━━╮
    ━━____━━__┗┓|:::::: ^━━^
    ━━____━━___┗|:::::|｡◕‿‿◕｡
    ━━____━━____╰O-O----O-O
    """
  end

  defp f(6) do
    """
    ━____━━___┓━╭━━━━╮
    ━____━━___┗┓|:::::: ^━━^
    ━____━━____┗|:::::|｡◕‿‿◕｡
    ━____━━____━╰O-O----O-O
    """
  end

  defp f2(1) do
    """
    ____━━____┓━╭━━━━╮
    ____━━____┗┓|:::::: ^━━^
    ____━━____━┗|:::::|｡◕‿‿◕｡
    ____━━____━━╰O-O----O-O
    """
  end

  defp f2(2) do
    """
    ___━━____━┓_╭━━━━╮
    ___━━____━┗┓|:::::: ^━━^
    ___━━____━━┗|:::::|｡◕‿‿◕｡
    ___━━____━━_╰O-O----O-O
    """
  end

  defp f2(3) do
    """
    __━━____━━┓_╭━━━━╮
    __━━____━━┗┓|:::::: ^━━^
    __━━____━━_┗|:::::|｡◕‿‿◕｡
    __━━____━━__╰O-O----O-O
    """
  end

  defp f2(4) do
    """
    _━━____━━_┓_╭━━━━╮
    _━━____━━_┗┓|:::::: ^━━^
    _━━____━━__┗|:::::|｡◕‿‿◕｡
    _━━____━━___╰O-O----O-O
    """
  end

  defp f2(5) do
    """
    ━━____━━__┓_╭━━━━╮
    ━━____━━__┗┓|:::::: ^━━^
    ━━____━━___┗|:::::|｡◕‿‿◕｡
    ━━____━━____╰O-O----O-O
    """
  end

  defp f2(6) do
    """
    ━____━━___┓━╭━━━━╮
    ━____━━___┗┓|:::::: ^━━^
    ━____━━____┗|:::::|｡◕‿‿◕｡
    ━____━━____━╰O-O----O-O
    """
  end
end
